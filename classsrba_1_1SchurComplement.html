<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SRBA: Sparser Relative Bundle Adjustment: srba::SchurComplement&lt; HESS_Ap, HESS_f, HESS_Apf &gt; Class Template Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">SRBA: Sparser Relative Bundle Adjustment
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>srba</b>      </li>
      <li class="navelem"><a class="el" href="classsrba_1_1SchurComplement.html">SchurComplement</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">srba::SchurComplement&lt; HESS_Ap, HESS_f, HESS_Apf &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="srba::SchurComplement" --><hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><h3>template&lt;class HESS_Ap, class HESS_f, class HESS_Apf&gt;<br/>
class srba::SchurComplement&lt; HESS_Ap, HESS_f, HESS_Apf &gt;</h3>

<p>A generic symbolic and numeric Schur-complement handler for builing reduced systems of equations. </p>
</div>
<p><code>#include &lt;<a class="el" href="schur_8h_source.html">schur.h</a>&gt;</code></p>

<p><a href="classsrba_1_1SchurComplement-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><b>TGradApSymbolicEntry</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><b>THApSymbolicEntry</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><b>TInfoPerHfBlock</b></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1SchurComplement.html#a41c6aa807365039ef6d76b797d486b74">SchurComplement</a> (HESS_Ap &amp;_HAp, HESS_f &amp;_Hf, HESS_Apf &amp;_HApf, double *_minus_grad_Ap, double *_minus_grad_f)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1SchurComplement.html#a7a35eff45ffd329a952bc88d9fc611b4">realize_HAp_changed</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1SchurComplement.html#aa6a2e3d689a7fefb228c1cdfda8199ba">getNumFeatures</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9185253b800b7d2a0d38e085d7766836"></a><!-- doxytag: member="srba::SchurComplement::getNumFeaturesFullRank" ref="a9185253b800b7d2a0d38e085d7766836" args="() const " -->
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>getNumFeaturesFullRank</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrba_1_1SchurComplement.html#a47cc61b86f26a9076254038a5c78d7b2">numeric_build_reduced_system</a> (const double lambda)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5679b96020f9cd4ac2369e8c0bf3eaf8"></a><!-- doxytag: member="srba::SchurComplement::numeric_solve_for_features" ref="a5679b96020f9cd4ac2369e8c0bf3eaf8" args="(double *in_deltas_Ap, double *out_deltas_feats)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>numeric_solve_for_features</b> (double *in_deltas_Ap, double *out_deltas_feats)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6ce19fc6771f6a6cb986db411ae4f2c"></a><!-- doxytag: member="srba::SchurComplement::was_ith_feature_invertible" ref="ad6ce19fc6771f6a6cb986db411ae4f2c" args="(const size_t i) const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>was_ith_feature_invertible</b> (const size_t i) const </td></tr>
</table>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a41c6aa807365039ef6d76b797d486b74"></a><!-- doxytag: member="srba::SchurComplement::SchurComplement" ref="a41c6aa807365039ef6d76b797d486b74" args="(HESS_Ap &amp;_HAp, HESS_f &amp;_Hf, HESS_Apf &amp;_HApf, double *_minus_grad_Ap, double *_minus_grad_f)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HESS_Ap, class HESS_f, class HESS_Apf&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsrba_1_1SchurComplement.html">srba::SchurComplement</a>&lt; HESS_Ap, HESS_f, HESS_Apf &gt;::<a class="el" href="classsrba_1_1SchurComplement.html">SchurComplement</a> </td>
          <td>(</td>
          <td class="paramtype">HESS_Ap &amp;&#160;</td>
          <td class="paramname"><em>_HAp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HESS_f &amp;&#160;</td>
          <td class="paramname"><em>_Hf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HESS_Apf &amp;&#160;</td>
          <td class="paramname"><em>_HApf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>_minus_grad_Ap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>_minus_grad_f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor: builds the symbolic representations Note: HApf must be in row-compressed form; HAp &amp; Hf in column-compressed form. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_minus_grad_f</td><td>Can be NULL if there're no observations of landmarks with unknown positions (may still be of LMs with known ones). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa6a2e3d689a7fefb228c1cdfda8199ba"></a><!-- doxytag: member="srba::SchurComplement::getNumFeatures" ref="aa6a2e3d689a7fefb228c1cdfda8199ba" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HESS_Ap, class HESS_f, class HESS_Apf&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classsrba_1_1SchurComplement.html">srba::SchurComplement</a>&lt; HESS_Ap, HESS_f, HESS_Apf &gt;::<a class="el" href="classsrba_1_1SchurComplement.html#aa6a2e3d689a7fefb228c1cdfda8199ba">getNumFeatures</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>After calling <a class="el" href="classsrba_1_1SchurComplement.html#a47cc61b86f26a9076254038a5c78d7b2">numeric_build_reduced_system()</a> one can get the stats on how many features are actually estimable </p>

</div>
</div>
<a class="anchor" id="a47cc61b86f26a9076254038a5c78d7b2"></a><!-- doxytag: member="srba::SchurComplement::numeric_build_reduced_system" ref="a47cc61b86f26a9076254038a5c78d7b2" args="(const double lambda)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HESS_Ap, class HESS_f, class HESS_Apf&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1SchurComplement.html">srba::SchurComplement</a>&lt; HESS_Ap, HESS_f, HESS_Apf &gt;::<a class="el" href="classsrba_1_1SchurComplement.html#a47cc61b86f26a9076254038a5c78d7b2">numeric_build_reduced_system</a> </td>
          <td>(</td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>lambda</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Replace the HAp matrix with its Schur reduced version. The lambda value is used to sum it to the diagonal of Hf (features), but it's NOT added to the output HAp. This is intentional, so the caller can add different lamdba values as needed in different trials if an ill conditioned matrix is found. </p>

</div>
</div>
<a class="anchor" id="a7a35eff45ffd329a952bc88d9fc611b4"></a><!-- doxytag: member="srba::SchurComplement::realize_HAp_changed" ref="a7a35eff45ffd329a952bc88d9fc611b4" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HESS_Ap, class HESS_f, class HESS_Apf&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsrba_1_1SchurComplement.html">srba::SchurComplement</a>&lt; HESS_Ap, HESS_f, HESS_Apf &gt;::<a class="el" href="classsrba_1_1SchurComplement.html#a7a35eff45ffd329a952bc88d9fc611b4">realize_HAp_changed</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Must be called after the numerical values of the Hessian HAp change, typically after an optimization update which led to re-evaluation of the Jacobians around a new linearization point. This method latches the current value of HAp for reseting it again if we later need to recompute the reduced Schur system for different values of lambda. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>srba/impl/<a class="el" href="schur_8h_source.html">schur.h</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Mon Nov 9 2015 10:15:30 for SRBA: Sparser Relative Bundle Adjustment by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
